(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

Module exec.
  (* Trait *)
  Module EvmExec.
    Definition exec_with_tx
        (Self : Ty.t)
        (ε : list Value.t)
        (τ : list Ty.t)
        (α : list Value.t)
        : M :=
      match ε, τ, α with
      | [], [], [ self; tx ] =>
        ltac:(M.monadic
          (let self := M.alloc (| self |) in
          let tx := M.alloc (| tx |) in
          M.read (|
            let~ _ :=
              M.alloc (|
                M.call_closure (|
                  M.get_trait_method (| "revm::exec::EvmExec", Self, [], "set_tx", [] |),
                  [ M.read (| self |); M.read (| tx |) ]
                |)
              |) in
            M.alloc (|
              M.call_closure (|
                M.get_trait_method (| "revm::exec::EvmExec", Self, [], "exec", [] |),
                [ M.read (| self |) ]
              |)
            |)
          |)))
      | _, _, _ => M.impossible "wrong number of arguments"
      end.
    
    Axiom ProvidedMethod_exec_with_tx :
      M.IsProvidedMethod "revm::exec::EvmExec" "exec_with_tx" exec_with_tx.
  End EvmExec.
  
  (* Trait *)
  Module EvmCommit.
    Definition exec_commit_with_tx
        (Self : Ty.t)
        (ε : list Value.t)
        (τ : list Ty.t)
        (α : list Value.t)
        : M :=
      match ε, τ, α with
      | [], [], [ self; tx ] =>
        ltac:(M.monadic
          (let self := M.alloc (| self |) in
          let tx := M.alloc (| tx |) in
          M.read (|
            let~ _ :=
              M.alloc (|
                M.call_closure (|
                  M.get_trait_method (| "revm::exec::EvmExec", Self, [], "set_tx", [] |),
                  [ M.read (| self |); M.read (| tx |) ]
                |)
              |) in
            M.alloc (|
              M.call_closure (|
                M.get_trait_method (| "revm::exec::EvmCommit", Self, [], "exec_commit", [] |),
                [ M.read (| self |) ]
              |)
            |)
          |)))
      | _, _, _ => M.impossible "wrong number of arguments"
      end.
    
    Axiom ProvidedMethod_exec_commit_with_tx :
      M.IsProvidedMethod "revm::exec::EvmCommit" "exec_commit_with_tx" exec_commit_with_tx.
  End EvmCommit.
End exec.
